<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Í≥ºÏùº ÏÑ†ÌÉù(class)</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        padding: 30px;
      }

      ul,
      li {
        list-style: none;
      }

      .dropdown-container {
        position: relative;
        display: inline-block;
      }

      .dropdown-container #toggleMenuBtn {
        padding: 10px;
      }

      .dropdown-container .dropdown-menu {
        position: absolute;
        top: 100%;
        left: 0;
        padding: 10px;
        background-color: antiquewhite;
        display: none;
        z-index: 1000;
      }

      .dropdown-container .dropdown-menu.show {
        display: block;
      }
    </style>
  </head>
  <body>
    <main>
      <div class="dropdown-container">
        <button id="toggleMenuBtn">Í≥ºÏùº ÏÑ†ÌÉù</button>
        <ul class="dropdown-menu" id="dropdownMenu">
          <li>ÏÇ¨Í≥º</li>
          <li>Ìè¨ÎèÑ</li>
          <li>Ïò§Î†åÏßÄ</li>
        </ul>
      </div>

      <div id="result"></div>
    </main>
  </body>
  <script>
    class Dropdown {
      static DEFAULT_LABEL = 'Í≥ºÏùº ÏÑ†ÌÉù';
      static FRUITS = {
        ÏÇ¨Í≥º: 'üçé',
        Ìè¨ÎèÑ: 'üçá',
        Ïò§Î†åÏßÄ: 'üçä',
      };

      constructor(toggleMenuBtn, dropdownMenu, result) {
        this.toggleBtn = document.getElementById(toggleMenuBtn);
        this.menu = document.getElementById(dropdownMenu);
        this.result = document.getElementById(result);

        if (!this.toggleBtn || !this.menu || !this.result) {
          throw new Error('ÌïÑÏàò ÏöîÏÜåÍ∞Ä ÏóÜÏäµÎãàÎã§.');
        }

        this._bindEvent();
      }

      _bindEvent() {
        this.toggleBtn.addEventListener('click', () => this._toggleMenu());
        this.menu.querySelectorAll('li').forEach((item) => {
          item.addEventListener('click', () => this._selectMenu(item));
        });
      }

      _toggleMenu() {
        this.menu.classList.toggle('show');
      }

      _selectMenu(item) {
        const selectedText = item.textContent;
        const fruitIcon = Dropdown.FRUITS[selectedText] || '';

        this.toggleBtn.textContent = `Í≥ºÏùº ÏÑ†ÌÉù ${fruitIcon} `;

        const selectedElement = document.createElement('span');
        selectedElement.textContent = `ÏÑ†ÌÉùÎêú Î©îÎâ¥: ${fruitIcon} ${selectedText}`;

        this.result.innerHTML = '';
        this.result.appendChild(selectedElement);

        this._toggleMenu();
      }
    }

    new Dropdown('toggleMenuBtn', 'dropdownMenu', 'result');
  </script>
</html>
