<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <style>
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .modal-box {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        background: white;
        padding: 20px 30px;
        border-radius: 6px;
        min-width: 300px;
        min-height: 300px;
        width: 300px;
        height: 300px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        font-family: sans-serif;
        text-align: center;
      }

      .modal-box .modal-icon {
        margin-bottom: 10px;
      }

      .modal-box .modal-title {
        margin-bottom: 30px;
        font-weight: 700;
        font-size: 1.4rem;
      }

      .modal-box button {
        margin-top: 15px;
        padding: 6px 16px;
        font-size: 14px;
        cursor: pointer;
      }
    </style>
    <title>Modal</title>
  </head>
  <body>
    <button onclick="new Modal({type: 'success',title: '저장이 완료되었습니다.', message: '안내 메시지...'})">
      기본 모달 띄우기
    </button>

    <button onclick="new Modal({})">모달 데이터 없음</button>

    <script>
      const ICON_TYPES = { success: '✅', error: '❌', warning: '⚠️', info: 'ℹ️' };
      const DEFAULTS = { type: 'error', title: '데이터가 없습니다.', message: '모달 옵션 데이터 미할당' };

      function Modal(options = {}) {
        const setting = { ...DEFAULTS, ...options };
        this.type = ICON_TYPES[options.type] ? setting.type : DEFAULTS.type;
        this.title = setting.title;
        this.message = setting.message;
        this._create();
      }

      Modal.prototype._create = function () {
        const isModal = document.querySelector('.modal');
        if (isModal) isModal.remove();

        const newModal = document.createElement('div');
        newModal.className = 'modal';

        const modalBox = document.createElement('div');
        modalBox.className = 'modal-box';
        modalBox.innerHTML = `<div>
                               <div class="modal-icon">${ICON_TYPES[this.type]}</div>
                               <div class="modal-title">${this.title}</div>
                               <div>${this.message}</div>
                              </div>
                              <button>닫기</button>`;

        newModal.appendChild(modalBox);
        document.body.appendChild(newModal);

        modalBox.querySelector('button').addEventListener('click', () => this._remove(newModal));
      };

      Modal.prototype._remove = function (modalElement) {
        if (modalElement) modalElement.remove();
      };
    </script>
  </body>
</html>
